PAGE 60,132              ;TAMANIO DE PAGINA
TITLE PRACTICA 11,EXE
.MODEL SMALL            ;MODELO PEQUENIO
.STACK 64               ;SEGMENTO DE 64 KB

.DATA                   ;SEGMENTO DE DATOS
NAMEPAR LABEL BYTE      ;LISTA DE PARAMETROS
MAXLEN DB 20            ;LONG MAXIMA DEL NOMBRE
ACTLEN DB 7             ;NUMERO DE CARACTERES INGRESADOS
NAMEFLD DB 20 DUP(' ')  ;NOMBRE
COL DB 00               ;COLUMNAS
COUNT DB ?              ;CONTADOR
PROMPT DB 'NAME? ','$'  ;CADENA DE IMPRECION
ROW DB 00               ;COLUMNA

.CODE                   ;SEG DE CODIGO
A10MAIN PROC FAR
MOV AX,@DATA        ;INICIA EL REGISTRO
MOV DS,AX           ;SEGMENTOS
MOV ES,AX
MOV AX, 0600H
CALL Q10SCR         ;LIMPIA LA PANTALLA CON EL PROCEDIMIENTO

A20LOOP:
MOV COL,00          ;ESTABLECE LA COLUMNA 0
CALL Q20CURS
CALL B10PROM
CALL C10INPT
CMP ACTLEN,00
JNE A30
MOV AX,0600H
CALL Q10SCR
MOV AX,4C00H
INT 21H

A30:
CALL D10NAME
JMP A20LOOP
A10MAIN ENDP

B10PROM PROC NEAR
LEA SI,PROMPT
MOV COUNT,05
B20:
MOV BL,71H
CALL E10DISP
INC SI
INC COL
CALL Q20CURS
DEC COUNT
JNZ B20
RET
B10PROM ENDP

C10INPT PROC NEAR
MOV AH, 0AH
LEA DX, NAMEPAR
INT 21H
RET
C10INPT ENDP

D10NAME PROC NEAR
LEA SI, NAMEFLD
MOV COL,40
D20:
CALL Q20CURS
MOV BL,0F1H
CALL E10DISP
INC SI
INC COL
DEC ACTLEN
JNZ D20
CMP ROW,20
JAE D30
INC ROW
RET

D30:
MOV AX,0601H
CALL Q10SCR
RET
D10NAME ENDP

E10DISP PROC NEAR
MOV AH,09H
MOV AL,[SI]
MOV BH,00
MOV CX,01
INT 10H
RET
E10DISP ENDP

Q10SCR PROC NEAR
MOV BH, 81H
MOV CX,0000
MOV DX,184FH
INT 10H
RET
Q10SCR ENDP

Q20CURS PROC NEAR
MOV AH,02H
MOV BH,00
MOV DH,ROW
MOV DL,COL
INT 10H
RET
Q20CURS ENDP
END A10MAIN

